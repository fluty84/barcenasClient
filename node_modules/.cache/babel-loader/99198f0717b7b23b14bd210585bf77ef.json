{"ast":null,"code":"import axios from \"axios\";\nimport { useContext } from \"react\";\nimport { AuthContext } from '../context/auth.context';\n\nclass RestaurantService {\n  constructor() {\n    var _s = $RefreshSig$();\n\n    this.getRestaurant = _s(() => {\n      _s();\n\n      const {\n        user\n      } = useContext(AuthContext);\n      console.log('el usuario es ', user);\n      return this.api.get(`/restaurant/${user._id}`);\n    }, \"y3FQDew7UyrSqYkvQcTdCsLbAB8=\");\n\n    this.saveRestaurant = restaurant => {\n      return this.api.post('/create', restaurant);\n    };\n\n    this.api = axios.create({\n      baseURL: 'http://localhost:5005/api'\n    });\n    this.api.interceptors.request.use(config => {\n      const storedToken = localStorage.getItem(\"authToken\");\n\n      if (storedToken) {\n        config.headers = {\n          Authorization: `Bearer ${storedToken}`\n        };\n      }\n\n      return config;\n    });\n  }\n\n  verify(token) {\n    return this.api.get('/verify', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  }\n\n}\n\nconst restaurantService = new RestaurantService();\nexport default restaurantService;","map":{"version":3,"sources":["/Users/gordi/Desktop/Ironhack/barcenas/client/src/services/restaurant.services.js"],"names":["axios","useContext","AuthContext","RestaurantService","constructor","getRestaurant","user","console","log","api","get","_id","saveRestaurant","restaurant","post","create","baseURL","interceptors","request","use","config","storedToken","localStorage","getItem","headers","Authorization","verify","token","restaurantService"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,WAAT,QAA4B,yBAA5B;;AAGA,MAAMC,iBAAN,CAAwB;AAEpBC,EAAAA,WAAW,GAAG;AAAA;;AAAA,SAoBdC,aApBc,MAoBE,MAAM;AAAA;;AAElB,YAAM;AAAEC,QAAAA;AAAF,UAAWL,UAAU,CAACC,WAAD,CAA3B;AAEAK,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,IAA9B;AAEA,aAAO,KAAKG,GAAL,CAASC,GAAT,CAAc,eAAcJ,IAAI,CAACK,GAAI,EAArC,CAAP;AACH,KA3Ba;;AAAA,SA6BdC,cA7Bc,GA6BGC,UAAU,IAAI;AAC3B,aAAO,KAAKJ,GAAL,CAASK,IAAT,CAAc,SAAd,EAAyBD,UAAzB,CAAP;AACH,KA/Ba;;AACV,SAAKJ,GAAL,GAAWT,KAAK,CAACe,MAAN,CAAa;AAEpBC,MAAAA,OAAO,EAAE;AAFW,KAAb,CAAX;AAMI,SAAKP,GAAL,CAASQ,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAmCC,MAAD,IAAY;AAE9C,YAAMC,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB;;AAEA,UAAIF,WAAJ,EAAiB;AACbD,QAAAA,MAAM,CAACI,OAAP,GAAiB;AAAEC,UAAAA,aAAa,EAAG,UAASJ,WAAY;AAAvC,SAAjB;AACH;;AAED,aAAOD,MAAP;AAEC,KAVD;AAWP;;AAeDM,EAAAA,MAAM,CAACC,KAAD,EAAQ;AACV,WAAO,KAAKlB,GAAL,CAASC,GAAT,CAAa,SAAb,EAAwB;AAAEc,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAG,UAASE,KAAM;AAAjC;AAAX,KAAxB,CAAP;AACH;;AArCmB;;AAwCxB,MAAMC,iBAAiB,GAAG,IAAIzB,iBAAJ,EAA1B;AAEA,eAAeyB,iBAAf","sourcesContent":["import axios from \"axios\"\nimport { useContext } from \"react\"\nimport { AuthContext } from '../context/auth.context'\n\n\nclass RestaurantService {\n\n    constructor() {\n        this.api = axios.create({\n\n            baseURL: 'http://localhost:5005/api'\n\n        })\n\n            this.api.interceptors.request.use((config) => {\n\n            const storedToken = localStorage.getItem(\"authToken\");\n\n            if (storedToken) {\n                config.headers = { Authorization: `Bearer ${storedToken}` }\n            }\n\n            return config\n\n            })\n    }\n\n    getRestaurant = () => {\n\n        const { user } = useContext(AuthContext)\n\n        console.log('el usuario es ', user)\n\n        return this.api.get(`/restaurant/${user._id}`)\n    }\n    \n    saveRestaurant = restaurant => {\n        return this.api.post('/create', restaurant)\n    }\n\n    verify(token) {\n        return this.api.get('/verify', { headers: { Authorization: `Bearer ${token}` } })\n    }\n}\n\nconst restaurantService = new RestaurantService()\n\nexport default restaurantService"]},"metadata":{},"sourceType":"module"}