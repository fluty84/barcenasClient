{"ast":null,"code":"var _jsxFileName = \"/Users/gordi/Desktop/Ironhack/proyectobarcenas/client/src/components/TableDetails/TableDetails.jsx\",\n    _s = $RefreshSig$();\n\nimport { Row, Col } from \"react-bootstrap\";\nimport Basket from \"../../pages/CustomerPages/Basket\";\nimport { AuthContext } from \"../../context/auth.context\";\nimport { useContext } from \"react\";\nimport { Button, ButtonGroup, Link } from \"@mui/material\";\nimport restaurantService from \"../../services/restaurant.services\";\nimport { io } from \"socket.io-client\";\nimport Qr from \"../qr/Qr\";\nimport QrPrint from \"../../pages/qrPrint/QrPrint\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io.connect('http://localhost:3001');\nimport(\"./TableDetails.css\");\n\nconst TableDetails = _ref => {\n  _s();\n\n  let {\n    order,\n    handleClose,\n    number\n  } = _ref;\n  const value = useContext(AuthContext);\n  const {\n    _id\n  } = value.user;\n  const spreadArr = { ...order.currentOrder\n  };\n  const newArr = [];\n  const tableId = [];\n  order.currentOrder.filter(elm => {\n    console.log(elm, \"elementos\");\n  });\n  order.currentOrder.forEach(x => {\n    Object.entries(x).forEach(item => {\n      if (item[0] != \"id\") {\n        newArr.push(item);\n      } else {\n        !tableId.length && tableId.push(item[1]);\n      }\n    });\n    console.log({\n      tableId: tableId[0]\n    }, \"tableID\");\n  });\n\n  const accept = () => {\n    socket.emit('join_room', true);\n    console.log('ACEPTADO');\n    restaurantService.acceptOrder({\n      id: tableId[0]\n    }).then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n      console.log(data);\n    }).catch(err => console.log(err));\n  };\n\n  const cancel = () => {\n    socket.emit('join_room', 'cancelado');\n    console.log('cancelado');\n    restaurantService.cancelOrder({\n      id: tableId[0]\n    }).then(_ref3 => {\n      let {\n        data\n      } = _ref3;\n      console.log(data);\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Table \", number, \" Details\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: newArr.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [item[0], \" cantidad : \", item[1]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(Basket, {\n          _id: _id,\n          tableId: tableId[0],\n          handleClose: handleClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: accept,\n          children: \"Aceptar pedido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: cancel,\n          children: \"Cancelar Pedido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Qr, {\n          number: number,\n          tableId: order._id,\n          children: \"QR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          href: true,\n          children: \"Imprimir QR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TableDetails, \"ksutO2/Ix3UeCrGnhyM+QEP505Y=\");\n\n_c = TableDetails;\nexport default TableDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableDetails\");","map":{"version":3,"sources":["/Users/gordi/Desktop/Ironhack/proyectobarcenas/client/src/components/TableDetails/TableDetails.jsx"],"names":["Row","Col","Basket","AuthContext","useContext","Button","ButtonGroup","Link","restaurantService","io","Qr","QrPrint","socket","connect","TableDetails","order","handleClose","number","value","_id","user","spreadArr","currentOrder","newArr","tableId","filter","elm","console","log","forEach","x","Object","entries","item","push","length","accept","emit","acceptOrder","id","then","data","catch","err","cancel","cancelOrder","map"],"mappings":"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","sourcesContent":["import { Row, Col } from \"react-bootstrap\";\nimport Basket from \"../../pages/CustomerPages/Basket\";\nimport { AuthContext } from \"../../context/auth.context\";\nimport { useContext } from \"react\";\nimport { Button, ButtonGroup, Link } from \"@mui/material\";\nimport restaurantService from \"../../services/restaurant.services\";\nimport { io } from \"socket.io-client\";\nimport Qr from \"../qr/Qr\";\nimport QrPrint from \"../../pages/qrPrint/QrPrint\";\n\n\n\n\nconst socket = io.connect('http://localhost:3001')\n\nimport(\"./TableDetails.css\");\n\nconst TableDetails = ({ order, handleClose, number }) => {\n  const value = useContext(AuthContext);\n  const { _id } = value.user;\n\n  const spreadArr = { ...order.currentOrder };\n  const newArr = [];\n  const tableId = [];\n\n  order.currentOrder.filter((elm) => {\n    console.log(elm, \"elementos\");\n  });\n\n  order.currentOrder.forEach((x) => {\n    Object.entries(x).forEach((item) => {\n      if (item[0] != \"id\") {\n        newArr.push(item);\n      } else {\n        !tableId.length && tableId.push(item[1]);\n      }\n    });\n    console.log({ tableId: tableId[0] }, \"tableID\");\n  });\n\n  const accept = () => {\n\n    socket.emit('join_room', true)\n\n    console.log('ACEPTADO')\n    restaurantService\n      .acceptOrder({ id: tableId[0] })\n      .then(({ data }) => {\n        console.log(data)\n      })\n      .catch(err => console.log(err))\n\n  }\n\n  const cancel = () => {\n\n    socket.emit('join_room', 'cancelado')\n\n\n    console.log('cancelado')\n    restaurantService\n      .cancelOrder({ id: tableId[0] })\n      .then(({ data }) => {\n        console.log(data)\n      })\n      .catch(err => console.log(err))\n  }\n\n  return (\n    <div className=\"order\">\n      <h1>Table {number} Details</h1>\n      <Row>\n        <Col md={6}>\n          {newArr.map((item) => {\n            return (\n              <p>\n                {item[0]} cantidad : {item[1]}\n              </p>\n            );\n          })}\n        </Col>\n\n        <Col md={6}>\n          <Basket _id={_id} tableId={tableId[0]} handleClose={handleClose}></Basket>\n\n          <Button onClick={accept}>\n            Aceptar pedido\n          </Button>\n\n          <Button onClick={cancel}>\n            Cancelar Pedido\n          </Button>\n          \n          \n          <Qr number={number} tableId={order._id} >QR</Qr>\n\n          <Button href>\n            Imprimir QR\n          </Button>\n          \n        </Col>\n\n\n\n\n      </Row>\n    </div>\n  );\n};\nexport default TableDetails;\n"]},"metadata":{},"sourceType":"module"}