{"ast":null,"code":"var _jsxFileName = \"/Users/gordi/Desktop/Ironhack/proyectobarcenas/client/src/components/CreateOrder/CreateOrder.jsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../../context/auth.context\";\nimport restaurantService from \"../../services/restaurant.services\";\nimport { Fab } from \"@mui/material\";\nimport { Form, Button } from \"react-bootstrap\";\nimport productService from \"../../services/product.services\";\nimport { useParams } from \"react-router-dom\";\nimport io from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst socket = io.connect(\"http://localhost:3001\");\n\nconst CreateOrder = props => {\n  _s();\n\n  console.log(props, 'prosp, wherw');\n  const [products, setProducts] = useState([]);\n  const [productNum, setProductNum] = useState([props.isUpdated]);\n  const [orderForm, setOrderForm] = useState({});\n  const [userName, setUsername] = useState(\"Popino\"); // const joinRoom = () => {\n  //   socket.emit(\"join_room\", orderForm);\n  // };\n\n  useEffect(() => {\n    loadMenu();\n  }, []);\n  const {\n    _id,\n    tableId\n  } = useParams();\n\n  const loadMenu = () => {\n    restaurantService.getRestaurant({\n      _id\n    }).then(response => setProducts(response.data.menu)).catch(err => console.log(err));\n  };\n\n  const handleInputChange = arg => {\n    if (arg.target.value < 0 || arg.target.value > 50) {\n      arg.target.value = 0;\n    }\n\n    const {\n      name,\n      value\n    } = arg.target;\n    setOrderForm({ ...orderForm,\n      [name]: value,\n      id: tableId //TABLE ID\n\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    props.orderSent();\n    props.receiveOrder(orderForm);\n    setOrderForm({});\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: [\"Lista de productos Pide\", products.map(product => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), \" \", product.price, /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: product.name,\n            value: 0,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"hidden\",\n            name: \"id\",\n            value: \"621f984c745ab17740b49361\" //\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)]\n        }, product._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"Enviar orden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(CreateOrder, \"ZJ1voDyGdaL4lHK4elN0cZu8SfE=\", false, function () {\n  return [useParams];\n});\n\n_c = CreateOrder;\nexport default CreateOrder;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateOrder\");","map":{"version":3,"sources":["/Users/gordi/Desktop/Ironhack/proyectobarcenas/client/src/components/CreateOrder/CreateOrder.jsx"],"names":["useContext","useEffect","useState","AuthContext","restaurantService","Fab","Form","Button","productService","useParams","io","socket","connect","CreateOrder","props","console","log","products","setProducts","productNum","setProductNum","isUpdated","orderForm","setOrderForm","userName","setUsername","loadMenu","_id","tableId","getRestaurant","then","response","data","menu","catch","err","handleInputChange","arg","target","value","name","id","handleSubmit","e","preventDefault","orderSent","receiveOrder","map","product","price"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../../context/auth.context\";\nimport restaurantService from \"../../services/restaurant.services\";\nimport { Fab } from \"@mui/material\";\nimport { Form, Button } from \"react-bootstrap\";\nimport productService from \"../../services/product.services\";\nimport { useParams } from \"react-router-dom\";\n\nimport io from \"socket.io-client\";\n\nconst socket = io.connect(\"http://localhost:3001\");\n\nconst CreateOrder = (props) => {\n  console.log(props, 'prosp, wherw')\n  const [products, setProducts] = useState([]);\n  const [productNum, setProductNum] = useState([props.isUpdated]);\n  const [orderForm, setOrderForm] = useState({});\n  const [userName, setUsername] = useState(\"Popino\");\n\n  // const joinRoom = () => {\n  //   socket.emit(\"join_room\", orderForm);\n  // };\n\n  useEffect(() => {\n    loadMenu();\n  }, []);\n\n  const { _id, tableId } = useParams();\n\n  const loadMenu = () => {\n    restaurantService\n      .getRestaurant({ _id })\n      .then((response) => setProducts(response.data.menu))\n      .catch((err) => console.log(err));\n  };\n\n  const handleInputChange = (arg) => {\n    if (arg.target.value < 0 || arg.target.value > 50) {\n      arg.target.value = 0;\n    }\n    const { name, value } = arg.target;\n\n    setOrderForm({\n      ...orderForm,\n      [name]: value,\n      id: tableId, //TABLE ID\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    props.orderSent();\n    props.receiveOrder(orderForm);\n    setOrderForm({})\n  };\n\n  return (\n    <>\n      <Form onSubmit={handleSubmit}>\n        Lista de productos Pide\n        {products.map((product) => {\n          return (\n            <li key={product._id}>\n              <p>{product.name}</p> {product.price}\n              <input\n                type=\"number\"\n                name={product.name}\n                value={0}\n                onChange={handleInputChange}\n              ></input>\n              <input\n                type=\"hidden\"\n                name=\"id\"\n                value=\"621f984c745ab17740b49361\" //\n              ></input>\n            </li>\n          );\n        })}\n        <Button type=\"submit\">Enviar orden</Button>\n      </Form>\n    </>\n  );\n};\n\nexport default CreateOrder;\n"]},"metadata":{},"sourceType":"module"}