{"ast":null,"code":"var _jsxFileName = \"/Users/gordi/Desktop/Ironhack/proyectobarcenas/client/src/components/TableDetails/TableDetails.jsx\",\n    _s = $RefreshSig$();\n\nimport { Row, Col } from \"react-bootstrap\";\nimport Basket from \"../../pages/CustomerPages/Basket\";\nimport { AuthContext } from \"../../context/auth.context\";\nimport { useContext } from \"react\";\nimport { Button } from \"@mui/material\";\nimport restaurantService from \"../../services/restaurant.services\";\nimport { io } from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io.connect('http://localhost:3001');\nimport(\"./TableDetails.css\");\n\nconst TableDetails = _ref => {\n  _s();\n\n  let {\n    order\n  } = _ref;\n  console.log(order, \"order\");\n  const value = useContext(AuthContext);\n  const {\n    _id\n  } = value.user;\n  const spreadArr = { ...order.currentOrder\n  };\n  const newArr = [];\n  const tableId = [];\n  order.currentOrder.filter(elm => {\n    console.log(elm, \"elementos\");\n  });\n  order.currentOrder.forEach(x => {\n    Object.entries(x).forEach(item => {\n      if (item[0] != \"id\") {\n        newArr.push(item);\n      } else {\n        !tableId.length && tableId.push(item[1]);\n      }\n    });\n    console.log({\n      tableId: tableId[0]\n    }, \"tableID\");\n  });\n\n  const accept = () => {\n    socket.emit('join_room', true);\n    console.log('ACEPTADO');\n    restaurantService.acceptOrder({\n      id: tableId[0]\n    }).then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n      console.log(data);\n    }).catch(err => console.log(err));\n  };\n\n  const cancel = () => {\n    socket.emit('join_room');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"This table Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: newArr.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [item[0], \" cantidad : \", item[1]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(Basket, {\n          _id: _id,\n          tableId: tableId[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: accept,\n          children: \"Aceptar pedido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: accept,\n          children: \"Cancelar Pedido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TableDetails, \"ksutO2/Ix3UeCrGnhyM+QEP505Y=\");\n\n_c = TableDetails;\nexport default TableDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableDetails\");","map":{"version":3,"sources":["/Users/gordi/Desktop/Ironhack/proyectobarcenas/client/src/components/TableDetails/TableDetails.jsx"],"names":["Row","Col","Basket","AuthContext","useContext","Button","restaurantService","io","socket","connect","TableDetails","order","console","log","value","_id","user","spreadArr","currentOrder","newArr","tableId","filter","elm","forEach","x","Object","entries","item","push","length","accept","emit","acceptOrder","id","then","data","catch","err","cancel","map"],"mappings":"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","sourcesContent":["import { Row, Col } from \"react-bootstrap\";\nimport Basket from \"../../pages/CustomerPages/Basket\";\nimport { AuthContext } from \"../../context/auth.context\";\nimport { useContext } from \"react\";\nimport { Button } from \"@mui/material\";\nimport restaurantService from \"../../services/restaurant.services\";\nimport { io } from \"socket.io-client\";\n\nconst socket = io.connect('http://localhost:3001')\n\nimport(\"./TableDetails.css\");\n\nconst TableDetails = ({ order }) => {\n  console.log(order, \"order\");\n  const value = useContext(AuthContext);\n  const { _id } = value.user;\n\n  const spreadArr = { ...order.currentOrder };\n  const newArr = [];\n  const tableId = [];\n\n  order.currentOrder.filter((elm) => {\n    console.log(elm, \"elementos\");\n  });\n\n  order.currentOrder.forEach((x) => {\n    Object.entries(x).forEach((item) => {\n      if (item[0] != \"id\") {\n        newArr.push(item);\n      } else {\n        !tableId.length && tableId.push(item[1]);\n      }\n    });\n    console.log({tableId:tableId[0]}, \"tableID\");\n  });\n\n  const accept = () => {\n\n    socket.emit('join_room', true )\n\n    console.log('ACEPTADO')\n    restaurantService\n      .acceptOrder({id:tableId[0]})\n      .then(({ data }) => {\n      console.log(data)})\n      .catch(err => console.log(err))\n    \n  }\n\n  const cancel = () => {\n\n    socket.emit('join_room')\n  }\n\n  return (\n    <div className=\"order\">\n      <h1>This table Details</h1>\n      <Row>\n        <Col md={6}>\n          {newArr.map((item) => {\n            return (\n              <p>\n                {item[0]} cantidad : {item[1]}\n              </p>\n            );\n          })}\n        </Col>\n\n        <Col md={6}>\n          <Basket _id={_id} tableId={tableId[0]}></Basket>\n        \n            <Button onClick={accept}>\n              Aceptar pedido\n            </Button>\n\n          <Button onClick={accept}>\n            Cancelar Pedido\n          </Button>\n       \n        </Col>\n\n          \n\n      </Row>\n    </div>\n  );\n};\nexport default TableDetails;\n"]},"metadata":{},"sourceType":"module"}